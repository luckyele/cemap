<!DOCTYPE html>  
<html>
	<head>  
		<meta name="viewport" content="initial-scale=1.0, user-scalable=yes" />  
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />  
		<title>Hello, World</title>  
		<style type="text/css">  
			html{height:100%;}
			body{height:100%;margin:0px;padding:0px;}
			#container{margin:10px;float:left;height:100%;width: 80%;}  
			#select{margin:10px;}
		</style>  
		<script type="text/javascript" 
		    src="http://api.map.baidu.com/api?v=2.0&ak=OQUXHOaGqzmKDZ2HfYA80SGU35yzrWcp">
		</script>
	</head>  
 
	<body>  
		<span id="select">
		输入省、直辖市或县名称：
		<input type="text" id="districtName" style="width:80px" value="合肥市">
		<input type="button" onclick="getBoundary()" value="获取轮廓">
		<input type="button" onclick="drawMarker()" value="显示标注">
		<input type="button" onclick="removeMarker()" value="取消标注">
		</span>
			
	
		<div id="container"></div> 
		
		<script type="text/javascript"> 
		
			function removeMarker(){
				var allMarkers = map.getOverlays();
				for(var i = 0; i < allMarkers.length; i++) {
					map.removeOverlay(allOverlay[i]);
				}
			}
			function getBoundary(){       
				var bdary = new BMap.Boundary();
				var name = document.getElementById("districtName").value;
				bdary.get(name, function(rs){       
					map.clearOverlays();        
					var count = rs.boundaries.length; 
					for(var i = 0; i < count; i++){
						var ply = new BMap.Polygon(rs.boundaries[i], {strokeWeight:2,fillColor:"none",strokeColor:"#ff0000"}); 
						map.addOverlay(ply);  
						map.setViewport(ply.getPath());
					}                
				});   
			}		
			
			function drawMarker() {
				var points = [
				{name:"安徽省文化馆",point:"117.288463,31.867939"},
				{name:"合肥市文化馆",point:"117.302516,31.733185"},
				{name:"庐阳区文化馆",point:"117.304429,31.87101"},
				{name:"蜀山区文化馆",point:"117.250161,31.833981"},
				{name:"肥西县文化馆",point:"117.183038,31.718728"},
				{name:"瑶海区文化馆",point:"117.31265,31.871389"},
				{name:"巢湖市文化馆",point:"117.871373,31.604097"}];

				for (var i = 0; i < points.length; i++) {
					x = points[i].point.split(',')[0];
					y = points[i].point.split(',')[1];
					var point = new BMap.Point(x, y);
					var marker = new BMap.Marker(point);
					marker.setLabel(new BMap.Label(points[i].name));
					map.addOverlay(marker);
					console.log(i+" add marker");
				}
			}

 			
			var map = new BMap.Map("container");
			var point = new BMap.Point(117.288463,31.867939);
			map.centerAndZoom(point,12);
			map.enableScrollWheelZoom();
			map.addControl(new BMap.NavigationControl())
			var ctrl_nav = new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_LEFT,type:BMAP_NAVIGATION_CONTROL_LARGE});
			map.addControl(ctrl_nav);


				
					
	       
		</script>  
	</body>  
</html>
